From f3a2fd897d8c8b06eaf33df01ad17438a5029499 Mon Sep 17 00:00:00 2001
From: Ishimoto Shinobu <nagakamira@gmail.com>
Date: Sat, 20 Apr 2019 23:25:21 +0900
Subject: [PATCH] Add Ataraxia Linux

Signed-off-by: Ishimoto Shinobu <nagakamira@gmail.com>
---
 include/clang/Driver/Distro.h | 5 +++++
 lib/Driver/Distro.cpp         | 3 +++
 2 files changed, 8 insertions(+)

diff --git a/include/clang/Driver/Distro.h b/include/clang/Driver/Distro.h
index 5651ebb6..62a9e5fa 100644
--- a/include/clang/Driver/Distro.h
+++ b/include/clang/Driver/Distro.h
@@ -26,6 +26,7 @@ public:
     // NB: Releases of a particular Linux distro should be kept together
     // in this enum, because some tests are done by integer comparison against
     // the first and last known member in the family, e.g. IsRedHat().
+    AtaraxiaLinux,
     AlpineLinux,
     ArchLinux,
     DebianLenny,
@@ -128,6 +129,10 @@ public:
     return DistroVal == Gentoo;
   }
 
+  bool IsAtaraxiaLinux() const {
+    return DistroVal == AtaraxiaLinux;
+  }
+
   /// @}
 };
 
diff --git a/lib/Driver/Distro.cpp b/lib/Driver/Distro.cpp
index 396d0bee..ddd9a883 100644
--- a/lib/Driver/Distro.cpp
+++ b/lib/Driver/Distro.cpp
@@ -141,6 +141,9 @@ static Distro::DistroType DetectDistro(llvm::vfs::FileSystem &VFS) {
   if (VFS.exists("/etc/gentoo-release"))
     return Distro::Gentoo;
 
+  if (VFS.exists("/etc/ataraxialinux-release"))
+    return Distro::AtaraxiaLinux;
+
   return Distro::UnknownDistro;
 }
 
-- 
2.17.1

