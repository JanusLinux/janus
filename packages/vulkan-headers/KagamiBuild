# Description: Vulkan header files
# URL:         https://www.khronos.org/vulkan/
# Maintainer:  protonesso, nagakamira at gmail dot com
# Depends on:  cmake samurai
# Section:     devel

name=vulkan-headers
version=1.2.175
release=2
source=("https://github.com/KhronosGroup/Vulkan-Headers/archive/v$version.tar.gz::archive=Vulkan-Headers-$version.tar.gz")

build() {
	cd "$SRC"/Vulkan-Headers-$version
	patch -Np1 -i "$STUFF"/vulkan-headers/cd913e84a81dd9b4e35aad4b10c2388f6f034063.patch
	patch -Np1 -i "$STUFF"/vulkan-headers/f5ac258209dc535973aa527bf3c11ba7063ba1b0.patch

	mkdir -p build
	cd build
	cmake "$SRC"/Vulkan-Headers-$version $CMAKEFLAGS \
		-DCMAKE_INSTALL_PREFIX=/usr \
		-DCMAKE_BUILD_TYPE=MinSizeRel \
		-Wno-dev -G Ninja
	samu
	DESTDIR="$PKG" samu install
}
