# Description: Header files for Linux kernel
# URL:         https://www.kernel.org/
# Maintainer:  protonesso, nagakamira at gmail dot com

name=linux-headers
version=3.12.6-6
release=1
source=(http://ftp.barfooze.de/pub/sabotage/tarballs/kernel-headers-$version.tar.xz)

build() {
	case $BARCH in
		x86_64*)
			export XKARCH="x86_64"
			;;
		i686*)
			export XKARCH="i386"
			;;
		aarch64)
			export XKARCH="arm64"
			;;
		armv7h|armv6h)
			export XKARCH="arm"
			;;
		mips*)
			export XKARCH="mips"
			;;
		*)
			echo "BARCH variable isn't set!"
			exit 1
	esac
	cd kernel-headers-$version
	make ARCH=$XKARCH prefix=/usr DESTDIR=$PKG install
}
