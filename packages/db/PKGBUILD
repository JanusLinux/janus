# Maintainer: protonesso <nagakamira@gmail.com>

pkgname=db
pkgver=6.2.32
pkgrel=1
pkgdesc="The Berkeley DB embedded database system"
arch=('x86_64' 'x86' 'arm64' 'armv7l' 'armv5tel' 'ppc64le' 'ppc64' 'ppc')
url="http://www.oracle.com/technology/software/products/berkeley-db/index.html"
license=('custom')
depends=('gcc-runtime' 'bash')
source=("http://download.oracle.com/berkeley-db/$pkgname-$pkgver.tar.gz")
md5sums=('33491b4756cb44b91c3318b727e71023')

build() {
	cd "$srcdir"/$pkgname-$pkgver/build_unix
	../dist/configure \
		--prefix='' \
		--enable-compat185 \
		--enable-cxx \
		--enable-dbm \
		--disable-static \
		--build=$CHOST
	make
}

package() {
	cd "$srcdir"/$pkgname-$pkgver/build_unix
	make DESTDIR="$pkgdir" install

	rm -rf "$pkgdir"/docs

	chown -R root:root \
		"$pkgdir"/*
}
