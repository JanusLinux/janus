# Description: Command line editor library providing generic line editing, history, and tokenization functions
# URL:         http://thrysoee.dk/editline/
# Maintainer:  nee-san, nagakamira at gmail dot com
# Depends on:  ncurses

name=libedit
_pkgver=20181209-3.1
version=${_pkgver/-/_}
release=2
source=("http://thrysoee.dk/editline/$name-${_pkgver}.tar.gz")
BOOTSTRAP=yes

build() {
	cd "$SRC"/$name-${_pkgver}
	./configure $BUILDFLAGS \
		--prefix='' \
		--enable-widec
	make
	make DESTDIR="$PKG" install

	ln -sf libedit.a "$PKG"/usr/lib/libreadline.a
	ln -sf libedit.so "$PKG"/usr/lib/libreadline.so
	ln -sf libedit.a "$PKG"/usr/lib/libhistory.a
	ln -sf libedit.so "$PKG"/usr/lib/libhistory.so
	mkdir -p "$PKG"/include/readline
	touch "$PKG"/include/readline/history.h
	touch "$PKG"/include/readline/tilde.h
	ln -sf ../editline/readline.h "$PKG"/include/readline/readline.h
}
