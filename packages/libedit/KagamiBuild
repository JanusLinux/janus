# Description: Command line editor library providing generic line editing, history, and tokenization functions
# URL:         http://thrysoee.dk/editline/
# Maintainer:  protonesso, nagakamira at gmail dot com
# Depends on:  ncurses
# Section:     libs

name=libedit
version=20191231+3.1
options=('bootstrap')
release=1
source=("http://thrysoee.dk/editline/$name-${version/+/-}.tar.gz")

build() {
	local i

	cd "$SRC"/$name-${version/+/-}
	./configure $BUILDFLAGS \
		--prefix=/usr
	make
	make DESTDIR="$PKG" install

	mkdir -p "$PKG"/usr/include/readline
	for i in chardefs.h history.h keymaps.h readline.h rlconf.h rlstdc.h rltypedefs.h tilde.h; do
		ln -sf ../editline/readline.h "$PKG"/usr/include/readline/$i
	done

	for i in history readline; do
		ln -sf libedit.so "$PKG"/usr/include/lib${i}.so
	done

	ln -sf libedit.pc "$PKG"/usr/lib/pkgconfig/readline.pc
}
