# Maintainer: protonesso <nagakamira@gmail.com>

pkgname=f2fs-tools
pkgver=1.12.0
pkgrel=1
pkgdesc='Tools for Flash-Friendly File System (F2FS)'
arch=('x86_64' 'x86' 'arm64' 'armv7l' 'armv5tel' 'ppc64le' 'ppc64' 'ppc')
url="https://git.kernel.org/pub/scm/linux/kernel/git/jaegeuk/f2fs-tools.git/about/"
license=('GPL-2.0-or-later LGPL-2.1-or-later')
depends=('musl' 'util-linux')
makedepends=('protonesso-favorite-headers')
source=("https://git.kernel.org/cgit/linux/kernel/git/jaegeuk/f2fs-tools.git/snapshot/$pkgname-$pkgver.tar.gz")
md5sums=('a4a0c01591f16b48ea8e9f75a7e64b77')

prepare() {
	cd "$srcdir"/$pkgname-$pkgver
	./autogen.sh
}

build() {
	cd "$srcdir"/$pkgname-$pkgver
	./configure \
		--prefix='' \
		--sbindir=/bin \
		--build=$CHOST
	make
}

package() {
	cd "$srcdir"/$pkgname-$pkgver
	make DESTDIR="$pkgdir" sbindir=/bin install
}
