# Maintainer: protonesso <nagakamira@gmail.com>

pkgname=linux-headers
pkgver=4.17
pkgrel=1
arch=('x86_64' 'aarch64' 'armhf' 's390x')
url="Header files and scripts for building modules for Linux kernel"
license=('GPL')
groups=('base')
source=("https://cdn.kernel.org/pub/linux/kernel/v4.x/linux-$pkgver.tar.xz")
build() {
	cd "$srcdir/linux-$pkgver"
	make mrproper
}

package() {
	cd "$srcdir/linux-$pkgver"
	if [ "$NATIVE" = "no" ]
	then
		make ARCH=$XKARCH INSTALL_HDR_PATH=$pkgdir/usr headers_install
	else
		make INSTALL_HDR_PATH=$pkgdir/usr headers_install
	fi
	find $pkgdir/usr/include -name .install -or -name ..install.cmd | xargs rm -rf
}
md5sums=('5bb13a03274b66b56c85b26682e407d7')
